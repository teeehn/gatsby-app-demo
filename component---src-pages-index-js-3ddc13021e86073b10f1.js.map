{"version":3,"sources":["webpack:///./src/components/Spacer.js","webpack:///./src/components/TestStorage.js","webpack:///./src/components/App.js","webpack:///./src/pages/index.js","webpack:///./node_modules/@tomnicolosi/storage-wrap/dist/storage-wrap.umd.js"],"names":["Spacer","classes","children","top","right","bottom","left","x","y","className","push","length","join","TestStorage","useState","stored","setStored","input_val","setVal","useEffect","stored_value","storage_read","htmlFor","id","type","onChange","e","target","value","disabled","onClick","storage_write","storage_delete","App","run","setRun","app_state","useStoreState","dispatch","useStoreDispatch","timer_ref","useRef","status","current","setTimeout","style","marginBottom","timer_readout","clearTimeout","to","IndexPage","title","module","exports","t","window","o","setItem","removeItem","DOMException","code","name","storage_clear","arguments","undefined","clear","storage_get_length","getItem","r"],"mappings":"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","file":"component---src-pages-index-js-3ddc13021e86073b10f1.js","sourcesContent":["import React from \"react\";\n\nexport default function Spacer({\n    children,\n    top,\n    right,\n    bottom,\n    left,\n    x,\n    y\n}) {\n    function make_spacer_classes() {\n        const classes = [];\n        if(x) {\n            classes.push(`px-${x}`);\n        } else {\n            if(right) {\n                classes.push(`pr-${right}`);\n            }\n            if(left) {\n                classes.push(`pl-${left}`);\n            }\n        }\n        if (y) {\n            classes.push(`py-${y}`);\n        } else {\n            if(top) {\n                classes.push(`pt-${top}`);\n            }\n            if (bottom) {\n                classes.push(`pb-${bottom}`);\n            }\n        }\n        return (\n            classes.length > 0\n                ? `spacer ${classes.join(\" \")}`\n                : `spacer`\n        );\n    }\n    return <div className={make_spacer_classes()}>{children}</div>\n}","import React, {useState, useEffect} from \"react\";\nimport {storage_read, storage_write, storage_delete} from \"@tomnicolosi/storage-wrap\";\n\nexport default function TestStorage() {\n    const [stored, setStored] = useState(null);\n    const [input_val, setVal] = useState(\"\");\n\n    useEffect(() => {\n        const stored_value = storage_read(\"gatsby-app\");\n        if(stored_value) {\n            setStored(stored_value);\n        }\n    }, [stored, input_val]);\n\n    function handle_change(e) {\n        setVal(e.target.value);\n    }\n\n    function handle_save() {\n        storage_write(\"gatsby-app\", input_val);\n        setVal(\"\");\n    }\n\n    function handle_clear() {\n        setVal(\"\");\n        setStored(null);\n        storage_delete(\"gatsby-app\");\n    }\n\n    return (\n        <>\n            <div className=\"form-group\">\n                <label htmlFor=\"storage-input\" className=\"form-label\">Enter value to store:</label>\n                <input className=\"form-control\" id=\"storage-input\" type=\"text\" onChange={handle_change} value={input_val} />\n                <button className=\"btn btn-dark mt-2\" disabled={!input_val} onClick={handle_save}>Save</button>\n            </div>\n            {\n                stored \n                    ? (\n                        <>\n                            <hr />\n                            <div className=\"pt-2\">{stored}</div>\n                            <button className=\"btn btn-secondary mt-2\" onClick={handle_clear}>Clear</button>\n                        </>\n                    )\n                    : null\n            }\n            \n        </>\n    );\n}","import React, { useState, useEffect, useRef } from \"react\";\nimport TestStorage from \"./TestStorage\";\nimport Spacer from \"./Spacer\";\nimport { Link } from \"gatsby\";\nimport { useStoreState, useStoreDispatch } from \"./Store\";\n\nexport default function App() {\n    const [run, setRun] = useState(false);\n\n    const app_state = useStoreState();\n    const dispatch = useStoreDispatch();\n\n    let timer_ref = useRef(null);\n\n    useEffect(() => {\n        if (run && app_state.status !== \"DONE\") {\n            timer_ref.current = setTimeout(() => dispatch({ type: \"TICK\"}), 1000);\n        } else {\n            setRun(false);\n        }\n    }, [run, app_state, dispatch]);\n\n    function reset_timer() {\n        clearTimeout(timer_ref.current);\n        setRun(false);\n        dispatch({\n            type: \"RESET\"\n        });\n    }\n\n    function start_timer() {\n        setRun(true);\n        dispatch({\n            type: \"START\"\n        });\n    }\n\n    return (\n        <div style={{marginBottom: \"2rem\"}}>\n            <h1>{ app_state.status }</h1>\n            <Spacer y={4} />\n            <h1>{ app_state.timer_readout }</h1>\n            <button onClick={reset_timer} disabled={!run}>Reset</button>\n            {'  '}\n            <button onClick={start_timer} disabled={run}>Start</button>\n            <Spacer top={4} />\n            <TestStorage />\n            <Spacer top={4} />\n            <Link to=\"/settings\">Settings</Link>\n        </div>\n    )\n}","import React from \"react\"\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport App from \"../components/App\";\n\nconst IndexPage = () => (\n  <Layout>\n    <SEO title=\"Home\" />\n    <App />\n  </Layout>\n)\n\nexport default IndexPage\n","require(\"core-js/modules/es6.function.name\");\n\n!function (e, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define(t) : (e = e || self).StorageWrap = t();\n}(this, function () {\n  \"use strict\";\n\n  function e(e) {\n    var t;\n\n    try {\n      t = window[e];\n      var o = \"__storage_test__\";\n      return t.setItem(o, o), t.removeItem(o), !0;\n    } catch (e) {\n      return e instanceof DOMException && (22 === e.code || 1014 === e.code || \"QuotaExceededError\" === e.name || \"NS_ERROR_DOM_QUOTA_REACHED\" === e.name) && t && 0 !== t.length;\n    }\n  }\n\n  return {\n    storage_clear: function storage_clear() {\n      var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"localStorage\";\n      if (!e(t)) throw \"Unable to clear storage.\";\n      window[t].clear();\n    },\n    storage_delete: function storage_delete(t) {\n      var o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"localStorage\";\n      if (!e(o)) throw \"Unable to remove item from storage.\";\n      window[o].removeItem(t);\n    },\n    storage_get_length: function storage_get_length() {\n      var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"localStorage\";\n      if (e(t)) return window[t].length;\n      throw \"Unable to get storage length.\";\n    },\n    storage_read: function storage_read(t) {\n      var o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"localStorage\";\n      if (e(o)) return window[o].getItem(t);\n      throw \"Unable to read from storage.\";\n    },\n    storage_write: function storage_write(t, o) {\n      var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"localStorage\";\n      if (!e(r)) throw \"Unable to write to storage.\";\n      window[r].setItem(t, o);\n    }\n  };\n});"],"sourceRoot":""}